<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Aesthetic Bean</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap"
      rel="stylesheet"
    />

    <style>
      /* --- CSS VARIABLES --- */
      :root {
        --primary: #6f4e37; /* Coffee */
        --secondary: #c2a386; /* Latte */
        --bg: #fdfbf7; /* Cream */
        --card-bg: #ffffff;
        --text: #3a2a1a;
        --radius: 16px;
        --shadow: 0 8px 30px rgba(111, 78, 55, 0.08);
      }

      /* --- RESET --- */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Outfit", sans-serif;
        background-color: var(--bg);
        color: var(--text);
        height: 100vh;
        overflow-x: hidden;
      }

      /* --- UTILITIES --- */
      .hidden {
        display: none !important;
      }

      .btn {
        background: var(--primary);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 50px;
        font-weight: 600;
        cursor: pointer;
        transition: 0.2s;
        font-size: 1rem;
      }
      .btn:hover {
        opacity: 0.9;
        transform: translateY(-2px);
      }

      .input-field {
        width: 100%;
        padding: 12px 15px;
        border: 2px solid #eee;
        border-radius: 12px;
        margin-bottom: 15px;
        font-family: inherit;
        outline: none;
        transition: 0.3s;
      }
      .input-field:focus {
        border-color: var(--secondary);
      }

      /* --- VIEW 1: LOGIN PAGE --- */
      #login-view {
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: radial-gradient(
          circle at center,
          #ede0d4 0%,
          var(--bg) 70%
        );
      }

      .login-card {
        background: var(--card-bg);
        padding: 40px;
        border-radius: 24px;
        box-shadow: var(--shadow);
        width: 100%;
        max-width: 400px;
        text-align: center;
      }

      .login-card h1 {
        color: var(--primary);
        margin-bottom: 10px;
      }
      .login-card p {
        color: #888;
        margin-bottom: 30px;
      }

      /* --- VIEW 2: MAIN APP --- */
      #main-view {
        max-width: 1000px;
        margin: 0 auto;
        padding: 20px;
        opacity: 0; /* For fade in animation */
        transition: opacity 0.5s ease;
      }
      #main-view.visible {
        opacity: 1;
      }

      header {
        text-align: center;
        margin-bottom: 40px;
        padding: 20px;
      }

      .main-grid {
        display: grid;
        grid-template-columns: 1.5fr 1fr;
        gap: 30px;
        align-items: start;
      }

      @media (max-width: 768px) {
        .main-grid {
          grid-template-columns: 1fr;
        }
      }

      /* --- MENU ITEMS --- */
      .menu-item {
        background: var(--card-bg);
        padding: 20px;
        border-radius: var(--radius);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.03);
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        border: 1px solid #f0f0f0;
        transition: 0.2s;
      }
      .menu-item:hover {
        transform: translateY(-2px);
        border-color: var(--secondary);
      }

      .item-info {
        display: flex;
        align-items: center;
        gap: 15px;
      }
      .emoji {
        font-size: 2rem;
        background: #fdfdfd;
        padding: 10px;
        border-radius: 50%;
      }

      .add-btn {
        background: var(--primary);
        color: white;
        border: none;
        width: 35px;
        height: 35px;
        border-radius: 50%;
        font-size: 1.2rem;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      /* --- CART --- */
      .cart-card {
        background: var(--card-bg);
        padding: 25px;
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        position: sticky;
        top: 20px;
        border-top: 5px solid var(--secondary);
      }

      .cart-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        font-size: 0.95rem;
        padding-bottom: 10px;
        border-bottom: 1px dashed #eee;
      }

      .qty-controls {
        display: flex;
        align-items: center;
        gap: 8px;
        background: #f5f5f5;
        border-radius: 20px;
        padding: 2px 6px;
      }

      .qty-btn-small {
        background: none;
        border: none;
        color: var(--primary);
        font-weight: bold;
        font-size: 1.1rem;
        cursor: pointer;
        padding: 0 5px;
      }
      .qty-btn-small:hover {
        color: #000;
      }

      .total-row {
        border-top: 2px solid #eee;
        margin-top: 15px;
        padding-top: 15px;
        font-weight: 800;
        font-size: 1.2rem;
        display: flex;
        justify-content: space-between;
      }
    </style>
  </head>
  <body>
    <div id="login-view">
      <div class="login-card">
        <h1>The Aesthetic Bean</h1>
        <p>Login to your coffee sanctuary.</p>

        <form onsubmit="handleLogin(event)">
          <input
            type="text"
            id="username"
            class="input-field"
            placeholder="Enter your name"
            required
          />
          <input
            type="password"
            class="input-field"
            placeholder="Password (Any)"
          />
          <button type="submit" class="btn" style="width: 100%">
            Enter Cafe
          </button>
        </form>
      </div>
    </div>

    <div id="main-view" class="hidden">
      <header>
        <h1>The Aesthetic Bean</h1>
        <div style="color: #888">
          Welcome,
          <span
            id="display-name"
            style="font-weight: bold; color: var(--primary)"
            >User</span
          >
        </div>
      </header>

      <div class="main-grid">
        <div id="menuContainer"></div>

        <div class="cart-card">
          <h3 style="margin-bottom: 20px">Your Tray</h3>

          <div id="cartItems">
            <p style="text-align: center; color: #aaa; padding: 20px">
              Tray is empty
            </p>
          </div>

          <div class="total-row">
            <span>Total:</span>
            <span id="totalPrice">$0.00</span>
          </div>
          <button
            onclick="alert('Order Sent! The kitchen is preparing your aesthetic treat.')"
            class="btn"
            style="width: 100%; margin-top: 20px"
          >
            Checkout
          </button>
        </div>
      </div>
    </div>

    <script>
      // --- DATA ---
      const MENU = [
        { id: 1, name: "Lavender Latte", price: 5.5, emoji: "â˜•" },
        { id: 2, name: "Matcha Cloud", price: 6.0, emoji: "ðŸµ" },
        { id: 3, name: "Caramel Macchiato", price: 6.5, emoji: "ðŸ®" },
        { id: 4, name: "Chai Donut", price: 3.5, emoji: "ðŸ©" },
        { id: 5, name: "Avocado Toast", price: 9.0, emoji: "ðŸ¥‘" },
        { id: 6, name: "Iced Americano", price: 4.0, emoji: "ðŸ§Š" },
      ];

      let cart = {}; // Object: { itemId: quantity }

      // --- LOGIN LOGIC ---
      function handleLogin(e) {
        e.preventDefault();
        const name = document.getElementById("username").value;

        // Hide Login, Show App
        document.getElementById("login-view").classList.add("hidden");
        const app = document.getElementById("main-view");
        app.classList.remove("hidden");
        document.getElementById("display-name").innerText = name;
        setTimeout(() => app.classList.add("visible"), 50);
      }

      // --- APP LOGIC ---

      // 1. Render Menu
      const menuContainer = document.getElementById("menuContainer");
      MENU.forEach((item) => {
        menuContainer.innerHTML += `
          <div class="menu-item">
            <div class="item-info">
              <span class="emoji">${item.emoji}</span>
              <div>
                <div style="font-weight:600">${item.name}</div>
                <div style="font-size:0.85rem; color:#888">$${item.price.toFixed(
                  2
                )}</div>
              </div>
            </div>
            <button class="add-btn" onclick="updateCart(${
              item.id
            }, 1)">+</button>
          </div>
        `;
      });

      // 2. Cart Functions (Add & Remove)
      function updateCart(id, change) {
        if (!cart[id]) cart[id] = 0;
        cart[id] += change;

        // If quantity is 0 or less, remove item completely
        if (cart[id] <= 0) {
          delete cart[id];
        }

        renderCart();
      }

      function renderCart() {
        const container = document.getElementById("cartItems");
        let html = "";
        let total = 0;
        let hasItems = false;

        for (const [id, qty] of Object.entries(cart)) {
          const item = MENU.find((i) => i.id == id);
          if (item) {
            total += item.price * qty;
            hasItems = true;

            html += `
                    <div class="cart-row">
                        <div>
                            <div style="font-weight:600; font-size:0.9rem;">${item.name}</div>
                            <div style="color:#888; font-size:0.8rem;">$${item.price} x ${qty}</div>
                        </div>
                        <div class="qty-controls">
                            <button class="qty-btn-small" onclick="updateCart(${id}, -1)">âˆ’</button>
                            <span style="font-weight:600; font-size:0.9rem;">${qty}</span>
                            <button class="qty-btn-small" onclick="updateCart(${id}, 1)">+</button>
                        </div>
                    </div>
                `;
          }
        }

        container.innerHTML = hasItems
          ? html
          : '<p style="text-align: center; color: #aaa; padding: 20px; font-style:italic;">Your tray is empty.</p>';
        document.getElementById("totalPrice").innerText =
          "$" + total.toFixed(2);
      }
    </script>
  </body>
</html>
